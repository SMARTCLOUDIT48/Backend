@charset "UTF-8";

/* =========================================
   0. ë°°ê²½ í…Œë§ˆ (Main Pageì™€ ë™ì¼) & ì´ˆê¸°í™”
   ========================================= */
:root {
    /* ğŸŒˆ ë©”ì¸ í˜ì´ì§€ì˜ ì˜¤ë¡œë¼ ë°°ê²½ ë³€ìˆ˜ */
    --bg:
            radial-gradient(1200px 800px at 10% 10%, rgba(255, 90, 150, 0.75), transparent 55%),
            radial-gradient(1000px 700px at 90% 20%, rgba(120, 140, 255, 0.75), transparent 55%),
            radial-gradient(900px 800px at 50% 90%, rgba(120, 220, 200, 0.75), transparent 55%),
            linear-gradient(180deg, #eceeff 0%, #e6ebff 100%);
}

/* â˜ï¸ ë°°ê²½ì— ë‘¥ë‘¥ ë– ë‹¤ë‹ˆëŠ” ë¬¼ë°©ìš¸ íš¨ê³¼ */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;

    background:
            radial-gradient(circle at 20% 30%, rgba(130, 180, 255, 0.6), transparent 40%),
            radial-gradient(circle at 70% 40%, rgba(255, 150, 200, 0.6), transparent 45%),
            radial-gradient(circle at 50% 80%, rgba(180, 255, 220, 0.6), transparent 50%);

    filter: blur(40px);
    opacity: 0.6;
}

/* ê¸°ë³¸ ì´ˆê¸°í™” */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    background: var(--bg); /* ìœ„ì—ì„œ ì •ì˜í•œ ë°°ê²½ ì ìš© */
    font-family: -apple-system, BlinkMacSystemFont, "Pretendard", "Malgun Gothic", sans-serif;

    /* í™”ë©´ ì¤‘ì•™ ì •ë ¬ */
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;

    color: #1c1c1e;
    overflow: hidden; /* ë°°ê²½ ìŠ¤í¬ë¡¤ ë°©ì§€ */
}

ul { list-style: none; }
button { font-family: inherit; }

/* ì»¤ìŠ¤í…€ ìŠ¤í¬ë¡¤ë°” */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.15); border-radius: 10px; }
::-webkit-scrollbar-track { background: transparent; }


/* =========================================
   1. ì „ì²´ ì•± ë ˆì´ì•„ì›ƒ (ì±„íŒ…ì°½ ë°•ìŠ¤)
   ========================================= */
.app-container {
    width: 1000px;
    height: 90vh;

    /* â¬œï¸ ì±„íŒ…ì°½ì€ ê¹”ë”í•œ 'í°ìƒ‰' ìœ ì§€ (Glass ì•„ë‹˜) */
    background: white;

    border-radius: 24px;
    box-shadow: 0 20px 50px rgba(0,0,0,0.12); /* ê·¸ë¦¼ì */

    display: flex;
    overflow: hidden;
    border: 1px solid rgba(0,0,0,0.05);
}

/* =========================================
   2. ì‚¬ì´ë“œë°” (ì±„íŒ… ëª©ë¡)
   ========================================= */
.sidebar {
    width: 320px;
    background-color: #ffffff;
    border-right: 1px solid #e5e5ea;
    display: flex;
    flex-direction: column;
}

.sidebar-header {
    padding: 24px;
    font-weight: 800;
    font-size: 20px;
    color: #000;
    border-bottom: 1px solid #f2f2f7;
}

.room-list { flex: 1; overflow-y: auto; }

.room-item {
    padding: 16px 20px;
    display: flex;
    align-items: center;
    cursor: pointer;
    transition: background-color 0.2s;
    border-bottom: 1px solid #f2f2f7;
}
.room-item:hover { background-color: #f2f2f7; }
.room-item.active { background-color: #e5f1fb; border-left: 3px solid #007aff; }

.room-avatar {
    width: 48px; height: 48px;
    border-radius: 18px; /* ìŠ¤ì¿¼í´ í˜•íƒœ */
    background: #e5e5ea;
    margin-right: 15px;
    display: flex; align-items: center; justify-content: center;
    font-size: 20px;
}
.room-info { flex: 1; min-width: 0; }
.room-name { font-weight: 600; font-size: 15px; margin-bottom: 4px; color: #1c1c1e; }
.room-last-msg { font-size: 13px; color: #8e8e93; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }


/* =========================================
   3. ë©”ì¸ ì±„íŒ… ì˜ì—­ & í—¤ë”
   ========================================= */
.chat-area {
    flex: 1;
    display: flex;
    flex-direction: column;
    background-color: #ffffff;
    position: relative;
}

.chat-header {
    height: 70px;
    padding: 0 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: rgba(255, 255, 255, 0.85); /* ë°˜íˆ¬ëª… */
    backdrop-filter: blur(20px); /* ìœ ë¦¬ íš¨ê³¼ */
    border-bottom: 1px solid #e5e5ea;
    z-index: 10;
}

.header-info { display: flex; align-items: center; gap: 10px; flex: 1; overflow: hidden; }
.chat-title { font-size: 17px; font-weight: 700; color: #000; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* ğŸ”¥ í™œë™ëŸ‰ ë°°ì§€ (ê¸°ëŠ¥ ìœ ì§€) */
.activity-badge {
    display: inline-flex; align-items: center;
    font-size: 11px; font-weight: 700; padding: 4px 10px;
    border-radius: 20px; white-space: nowrap; animation: fadeIn 0.5s ease;
}
.badge-hot { background-color: #ffeff0; color: #ff3b30; border: 1px solid #ffcfd1; }
.badge-normal { background-color: #eaf4ff; color: #007aff; border: 1px solid #cce4ff; }

/* ğŸ’“ í˜¸ê°ë„ ë¶„ì„ ë²„íŠ¼ (ì‹¬ì¥ë°•ë™ ì• ë‹ˆë©”ì´ì…˜ ìœ ì§€) */
.love-btn-header {
    background: linear-gradient(135deg, #ff2d55, #ff5e7e);
    border: none !important;
    padding: 8px 16px !important;
    border-radius: 20px !important;
    color: white !important;
    box-shadow: 0 4px 12px rgba(255, 45, 85, 0.3);
    display: flex; align-items: center; gap: 6px;
    cursor: pointer; transition: transform 0.2s;
    font-family: inherit; margin-left: auto; white-space: nowrap;
}
.love-btn-header:hover { transform: scale(1.05); }
.love-btn-header span { color: white !important; font-size: 13px !important; font-weight: 700 !important; }
.love-btn-header i { color: white !important; animation: heartBeat 1.5s infinite; }

@keyframes heartBeat {
    0% { transform: scale(1); }
    15% { transform: scale(1.2); }
    30% { transform: scale(1); }
    45% { transform: scale(1.2); }
    100% { transform: scale(1); }
}


/* =========================================
   âœ¨ 4. ë©”ì‹œì§€ ë¦¬ìŠ¤íŠ¸ (ë‹¨ì–´ ëŠê¹€ & ë ˆì´ì•„ì›ƒ ìµœì¢… ìˆ˜ì •)
   ========================================= */
.message-box {
    background-color: #ffffff;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 12px;
    overflow-y: auto;
    flex: 1;
}

.message-li {
    display: flex;
    width: 100%;
    margin-bottom: 5px; /* ë§í’ì„  ê°„ ê°„ê²© í™•ë³´ */
}

.profile-img {
    width: 40px; height: 40px; /* í”„ë¡œí•„ ì´ë¯¸ì§€ ì•½ê°„ í‚¤ì›€ */
    border-radius: 16px;
    margin-right: 10px;
    object-fit: cover;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    flex-shrink: 0; /* ì´ë¯¸ì§€ ì°Œê·¸ëŸ¬ì§ ë°©ì§€ */
}

/* ì´ë¦„ ìœ„ì¹˜ ìˆ˜ì • (ì•„ê¹Œ ë§ì”€ë“œë¦° ë¶€ë¶„ ë°˜ì˜) */
.sender-name {
    font-size: 12px; color: #8e8e93;
    margin-bottom: 4px;
    margin-left: 2px; /* í”„ë¡œí•„ ì´ë¯¸ì§€ ê¸°ì¤€ ì •ë ¬ */
}

/* ğŸ“¦ ë©”ì‹œì§€ ë˜í¼ */
.msg-content-wrapper {
    display: flex !important;
    align-items: flex-end;
    max-width: 450px; /* ìµœëŒ€ ê¸¸ì´ ì œí•œ (PC ì¹´í†¡ ê¸°ì¤€) */
    width: fit-content; /* ë‚´ìš©ë¬¼ë§Œí¼ë§Œ ë„ˆë¹„ ì°¨ì§€ */
    gap: 6px;
    position: relative;
}

/* ğŸ’¬ ë§í’ì„  ë””ìì¸ (ì¤„ë°”ê¿ˆ ë¡œì§ ê°œì„ ) */
.bubble {
    padding: 10px 14px;
    border-radius: 18px;
    font-size: 15px;
    line-height: 1.5;
    position: relative;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);

    /* ğŸ‘‡ í•µì‹¬: í•œê¸€ ì¤„ë°”ê¿ˆ í•´ê²° */
    word-break: keep-all; /* ë‹¨ì–´ ì¤‘ê°„ì— ëŠê¸°ì§€ ì•ŠìŒ (ì•ˆë…•í•˜\nì„¸ìš” X -> ì•ˆë…•í•˜ì„¸ìš”\n O) */
    word-wrap: break-word; /* ì˜ì–´ë‚˜ URLì´ ë„ˆë¬´ ê¸¸ë©´ ê·¸ë•Œë§Œ ê°•ì œ ì¤„ë°”ê¿ˆ */
    white-space: pre-wrap; /* ì—”í„°í‚¤ ì…ë ¥ì€ ê·¸ëŒ€ë¡œ ë°˜ì˜ */

    max-width: 100%; /* ë¶€ëª¨(450px) ì•ˆì—ì„œ ê½‰ ì°¨ê²Œ */
}

/* ğŸŸ¢ ìƒëŒ€ë°© (ì™¼ìª½) */
.message-li.left { justify-content: flex-start; }
.message-li.left .msg-content-wrapper { flex-direction: row; }
.left .bubble {
    background-color: #f2f2f7;
    color: #000;
    border-top-left-radius: 4px;
}

/* ğŸŸ¡ ë‚˜ (ì˜¤ë¥¸ìª½) */
.message-li.right { justify-content: flex-end; }
.message-li.right .msg-content-wrapper { flex-direction: row-reverse; }
.right .bubble {
    background-color: #fee500;
    color: #000;
    border-top-right-radius: 4px;
    text-align: left; /* í…ìŠ¤íŠ¸ ì¢Œì¸¡ ì •ë ¬ */
}

/* â° ì‹œê°„ ë° ì½ìŒí‘œì‹œ */
.msg-meta {
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    flex-shrink: 0; /* ì‹œê°„ í‘œì‹œê°€ ì°Œê·¸ëŸ¬ì§€ì§€ ì•ŠìŒ */
    min-width: 55px; /* ì‹œê°„ í‘œì‹œ ì˜ì—­ ìµœì†Œ í™•ë³´ */
    margin-bottom: 2px;
}
.right .msg-meta { align-items: flex-end; }
.left .msg-meta { align-items: flex-start; }

.read-status {
    color: #fee500; font-size: 10px; font-weight: 700;
    text-shadow: 0 0 1px rgba(0,0,0,0.2); margin-bottom: 2px;
}
.send-time {
    font-size: 11px; color: #aeaeb2; white-space: nowrap;
}

/* =========================================
   ğŸ“¦ 5. ë¶€ê°€ ê¸°ëŠ¥ (íˆ´ë°”, ë²ˆì—­, ì‹œìŠ¤í…œë©”ì‹œì§€)
   ========================================= */

/* ğŸ› ï¸ í˜¸ë²„ íˆ´ë°” (ê¸°ì¡´ msg-actions ê°œì„ ) */
.msg-actions {
    position: absolute; top: -38px;
    background: #2c2c2e; /* ë‹¤í¬ ëª¨ë“œ íˆ´íŒ */
    padding: 6px 10px; border-radius: 12px;
    display: flex; gap: 8px;
    opacity: 0; visibility: hidden;
    transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
    z-index: 100;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}
.right .msg-actions { right: 0; }
.left .msg-actions { left: 0; }
.msg-content-wrapper:hover .msg-actions { opacity: 1; visibility: visible; top: -45px; }

.action-btn { background: none; border: none; color: #fff; cursor: pointer; font-size: 14px; }
.action-btn:hover { color: #fee500; transform: scale(1.1); }

/* ğŸ”  ë²ˆì—­ ë°•ìŠ¤ (ê¸°ëŠ¥ ìœ ì§€) */
.trans-box {
    display: none; margin-top: 8px; padding: 12px;
    background: #f2f2f7; border-left: 3px solid #007aff;
    border-radius: 8px; font-size: 13.5px; color: #333;
    animation: fadeIn 0.3s ease;
    width: fit-content;
}

/* ì‹œìŠ¤í…œ ë©”ì‹œì§€ */
.message-li.center { justify-content: center; margin: 15px 0; }
.center .bubble {
    background: rgba(0,0,0,0.05); color: #8e8e93;
    font-size: 12px; padding: 4px 12px;
    border-radius: 12px; box-shadow: none;
    width: auto;
}


/* =========================================
   6. ì…ë ¥ ì˜ì—­ (ë²„íŠ¼ ì°Œê·¸ëŸ¬ì§ í•´ê²°íŒ)
   ========================================= */
.input-area {
    padding: 20px;
    background: #fff;
    border-top: 1px solid #f2f2f7;
}

#preview-box {
    display: none; padding: 10px; margin-bottom: 10px;
    background: #f9f9f9; border-radius: 12px;
    border: 1px solid #eee; justify-content: space-between; align-items: center;
}

.input-wrapper {
    display: flex;
    align-items: center;
    background: #f2f2f7;
    padding: 8px 15px; /* ë‚´ë¶€ ì—¬ë°± í™•ë³´ */
    border-radius: 26px;

    /* ğŸ‘‡ í•µì‹¬: ê³µê°„ì´ ì¢ì•„ë„ ì ˆëŒ€ë¡œ ì¤„ë°”ê¿ˆí•˜ì§€ ì•ŠìŒ */
    flex-wrap: nowrap;
}

#msg {
    /* ğŸ‘‡ í•µì‹¬: ì…ë ¥ì°½ì€ ë‚¨ì€ ê³µê°„ì„ ëª¨ë‘ ì°¨ì§€í•˜ë˜, ìµœì†Œ ë„ˆë¹„ëŠ” ë³´ì¥ */
    flex: 1;
    min-width: 0;
    background: transparent;
    border: none;
    outline: none;
    font-size: 15px;
    padding: 10px 5px; /* í„°ì¹˜ ì˜ì—­ í™•ë³´ */
}

.btn-group {
    display: flex;
    gap: 8px; /* ë²„íŠ¼ ì‚¬ì´ ê°„ê²© ì¡°ê¸ˆ ë” ë„“ê²Œ */
    align-items: center;

    /* ğŸ‘‡ í•µì‹¬: í™”ë©´ì´ ì¤„ì–´ë“¤ì–´ë„ ë²„íŠ¼ ì˜ì—­ì€ ì ˆëŒ€ ì°Œê·¸ëŸ¬ì§€ì§€ ì•ŠìŒ */
    flex-shrink: 0;
    white-space: nowrap;
    margin-left: 10px; /* ì…ë ¥ì°½ê³¼ ë²„íŠ¼ ì‚¬ì´ ê°„ê²© */
}

.btn-group button {
    width: 38px; height: 38px; /* í´ë¦­í•˜ê¸° í¸í•˜ê²Œ í¬ê¸° ì‚´ì§ í‚¤ì›€ */
    border-radius: 50%;
    border: none; cursor: pointer;
    font-size: 16px;
    display: flex; align-items: center; justify-content: center;
    transition: 0.2s;
    flex-shrink: 0; /* ê°œë³„ ë²„íŠ¼ë„ ì°Œê·¸ëŸ¬ì§ ë°©ì§€ */
}

/* ìƒ‰ìƒ ì½”ë“œëŠ” ê¸°ì¡´ ìœ ì§€ */
#btn-love-check { background: white; color: #ff2d55; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
#btn-ai { background: white; color: #007aff; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
#btn-mic { background: white; color: #333; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
#btn-send {
    background-color: #fee500; color: #000; font-weight: bold;
    box-shadow: 0 2px 5px rgba(254, 229, 0, 0.4);
}
#btn-send:hover { transform: scale(1.05); }
.recording { background-color: #ff3b30 !important; color: white !important; animation: pulse 1s infinite; }
@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }


/* =========================================
   7. ê°ì¢… ëª¨ë‹¬ & íˆ´íŒ (ê¸°ëŠ¥ 100% í¬í•¨)
   ========================================= */

/* ğŸ¤– AI ë¬¸ë²• êµì • ëª¨ë‹¬ */
.ai-modal {
    display: none; position: absolute; bottom: 90px;
    left: 20px; right: 20px;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.15);
    padding: 24px; z-index: 100;
}
.ai-header { display: flex; justify-content: space-between; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #eee; }
.ai-title { font-weight: 800; color: #007aff; font-size: 16px; }
.ai-close { cursor: pointer; color: #aeaeb2; font-size: 18px; }
.ai-result-box { background: #f2f2f7; padding: 16px; border-radius: 12px; margin-bottom: 15px; font-weight: 600; font-size: 16px; }
.ai-tabs { display: flex; gap: 8px; margin-bottom: 15px; }
.ai-tab { padding: 6px 14px; border-radius: 16px; font-size: 13px; cursor: pointer; border: 1px solid #e5e5ea; background: white; transition: 0.2s; }
.ai-tab.active { background: #007aff; color: white; border-color: #007aff; }
.ai-explanation { font-size: 14px; line-height: 1.6; color: #333; }

/* ğŸ’˜ í˜¸ê°ë„ ë©˜íŠ¸ ì¶”ì²œ íˆ´íŒ */
.love-tooltip {
    display: none; position: absolute; bottom: 85px; left: 20px; right: 20px;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    border: 1px solid #ff2d55;
    border-radius: 20px; padding: 20px;
    box-shadow: 0 -10px 40px rgba(255, 45, 85, 0.15);
    z-index: 1000; animation: slideUp 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
}
.tooltip-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 15px; border-bottom: 1px dashed #ffcfd1; padding-bottom: 10px; }
.score-number { font-size: 2rem; font-weight: 800; color: #ff2d55; }
.tooltip-content { background: #fff0f3; padding: 12px; border-radius: 12px; margin-bottom: 15px; font-size: 14px; line-height: 1.5; color: #333; }
.tooltip-recommend { background: #fff; padding: 14px; border-left: 4px solid #ff2d55; border-radius: 4px; cursor: pointer; transition: 0.2s; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.tooltip-recommend:hover { transform: translateX(5px); background: #fff9fa; }
.tooltip-close { font-size: 20px; color: #c7c7cc; cursor: pointer; background:none; border:none; }

@keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

/* ğŸ“º ëŒ€í˜• ë¶„ì„ ëª¨ë‹¬ (ì¤‘ì•™) */
.modal {
    display: none; position: fixed; z-index: 10000;
    left: 0; top: 0; width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.4);
    backdrop-filter: blur(8px);
}
.modal-content {
    background-color: #fff; margin: 8% auto; padding: 40px;
    border-radius: 30px; width: 480px; text-align: center;
    position: relative; box-shadow: 0 20px 60px rgba(0,0,0,0.2);
    animation: zoomIn 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
}
@keyframes zoomIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
.close { position: absolute; top: 20px; right: 25px; font-size: 30px; cursor: pointer; color: #c7c7cc; transition: 0.2s; }
.close:hover { color: #000; transform: rotate(90deg); }